
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lovetoo - Cadeau Personnalisé Digital pour Couples</title>
    <meta name="description" content="Créez un cadeau digital unique avec un compteur de temps, des photos et un message spécial pour votre moitié. Lovetoo - Surprenez votre amour." />
    <meta name="author" content="Lovetoo" />

    <meta property="og:title" content="Lovetoo - Cadeau Personnalisé Digital pour Couples" />
    <meta property="og:description" content="Créez un cadeau digital unique avec un compteur de temps, des photos et un message spécial pour votre moitié." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovetoo_ch" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Lora:wght@400;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://js.stripe.com/v3/"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-41NLKY6P9E"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-41NLKY6P9E');
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            border-color: hsl(217 32% 17%);
        }
        
        :root {
            --background: 222 47% 11%;
            --foreground: 210 40% 98%;
            --card: 222 47% 14%;
            --card-foreground: 210 40% 98%;
            --popover: 222 47% 11%;
            --popover-foreground: 210 40% 98%;
            --primary: 262 83% 58%;
            --primary-foreground: 210 40% 98%;
            --secondary: 199 89% 48%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217 32% 17%;
            --muted-foreground: 215 20% 65%;
            --accent: 217 32% 17%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62% 30%;
            --destructive-foreground: 210 40% 98%;
            --border: 217 32% 17%;
            --input: 217 32% 17%;
            --ring: 262 83% 58%;
            --radius: 0.5rem;
        }
        
        html, body {
            height: 100%;
            width: 100%;
            overflow-x: hidden;
        }
        
        body {
            font-family: 'Quicksand', sans-serif;
            background: hsl(var(--background));
            background-image: 
              radial-gradient(circle at 25% 15%, rgba(139, 92, 246, 0.1) 0%, transparent 25%),
              radial-gradient(circle at 85% 75%, rgba(14, 165, 233, 0.1) 0%, transparent 25%);
            color: hsl(var(--foreground));
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes pulse-soft {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }
        
        @keyframes text-shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        @keyframes slide {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.05); }
            50% { transform: scale(1); }
            75% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes rise {
            0% { transform: translateY(100%) scale(0.5); opacity: 0; }
            20% { opacity: 0.7; }
            100% { transform: translateY(-50%) scale(1.5); opacity: 0; }
        }
        
        /* Utility Classes */
        .gradient-text {
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
            background-image: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
        }
        
        .love-card {
            border-radius: 0.75rem;
            border: 1px solid hsl(var(--border));
            background-color: hsl(var(--card));
            color: hsl(var(--card-foreground));
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .love-card:hover {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transform: translateY(-4px);
        }
        
        .glow-effect {
            position: relative;
        }
        
        .glow-effect:after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 0.75rem;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .glow-effect:hover:after {
            opacity: 1;
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        .animate-pulse-soft {
            animation: pulse-soft 3s ease-in-out infinite;
        }
        
        .animate-text-shimmer {
            animation: text-shimmer 8s infinite linear;
            background: linear-gradient(110deg, #8B5CF6, 45%, #0EA5E9, 55%, #8B5CF6);
            background-size: 200% 100%;
        }
        
        .animate-slide {
            animation: slide 30s linear infinite;
        }
        
        .animate-heartbeat {
            animation: heartbeat 2s infinite;
        }
        
        .emoji-float {
            position: absolute;
            font-size: 1.5em;
            opacity: 0.7;
            z-index: 1;
            animation: rise 5s linear infinite;
        }
        
        /* Header Styles */
        header {
            position: relative;
            width: 100%;
            min-height: 700px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background: url('https://images.pexels.com/photos/4015012/pexels-photo-4015012.jpeg?auto=compress&cs=tinysrgb&w=800') no-repeat center/cover;
        }
        
        header:before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, hsla(var(--background), 0.8), hsl(var(--background)));
        }
        
        .header-content {
            position: relative;
            z-index: 10;
            text-align: center;
            max-width: 1100px;
            margin: 0 auto;
            padding: 5rem 1rem;
        }
        
        header h1 {
            font-size: 3.5rem;
            font-weight: 700;
            font-family: 'Lora', serif;
            margin-bottom: 1.5rem;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            animation: text-shimmer 8s infinite linear;
            background: linear-gradient(110deg, #8B5CF6, 45%, #0EA5E9, 55%, #8B5CF6);
            background-size: 200% 100%;
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }
        
        header p {
            font-size: 1.25rem;
            max-width: 36rem;
            margin: 0 auto 2rem;
            color: hsla(var(--foreground), 0.9);
            font-weight: 500;
        }
        
        .btn-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
            color: hsl(var(--primary-foreground));
            border: none;
            border-radius: 9999px;
            padding: 0.875rem 1.5rem;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            animation: pulse-soft 3s ease-in-out infinite;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
        }
        
        .btn-cta:hover {
            opacity: 0.9;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.5);
        }
        
        /* Container */
        .container {
            width: 100%;
            max-width: 1100px;
            margin: 0 auto;
            padding: 4rem 1rem;
        }
        
        .section-padding {
            padding-top: 5rem;
            padding-bottom: 5rem;
        }
        
        /* Feature Highlights */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin: 3rem 0;
        }
        
        .feature-card {
            padding: 1.75rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            border-radius: 1rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: hsla(var(--card), 0.7);
            border: 1px solid hsla(var(--border), 0.8);
        }
        
        .feature-card:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
            border-color: hsla(var(--primary), 0.5);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: hsl(var(--primary));
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover .feature-icon {
            transform: scale(1.2);
            color: hsl(var(--secondary));
        }
        
        .feature-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }
        
        .feature-desc {
            color: hsl(var(--muted-foreground));
            line-height: 1.5;
        }
        
        /* How It Works */
        .steps-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .step-card {
            position: relative;
        }
        
        .step-inner {
            padding: 1.75rem;
            height: 100%;
            border-radius: 1rem;
            border: 1px solid hsla(var(--border), 0.8);
            background-color: hsla(var(--card), 0.7);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .step-card:hover .step-inner {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.2);
            border-color: hsla(var(--primary), 0.5);
        }
        
        .step-number {
            width: 3.5rem;
            height: 3.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 9999px;
            background-image: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
            color: white;
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 1.25rem;
            box-shadow: 0 3px 10px rgba(139, 92, 246, 0.4);
        }
        
        .step-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }
        
        .step-desc {
            color: hsl(var(--muted-foreground));
            flex-grow: 1;
            font-size: 0.95rem;
        }
        
        .connecting-line {
            position: absolute;
            top: 3rem;
            left: 100%;
            width: 2rem;
            height: 2px;
            background-image: linear-gradient(to right, hsla(var(--primary), 0.5), hsla(var(--secondary), 0.5));
            transform: translateX(-1rem);
        }
        
        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2.5rem;
            margin: 3rem 0;
        }
        
        .form-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .form-label {
            font-weight: 600;
            color: hsl(var(--foreground));
            font-size: 0.875rem;
            display: block;
        }
        
        .form-input,
        .form-textarea {
            width: 100%;
            background-color: hsla(var(--card), 0.5);
            border: 1px solid hsla(var(--border), 0.8);
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            color: hsl(var(--foreground));
            font-family: 'Quicksand', sans-serif;
            resize: vertical;
            transition: all 0.2s ease;
        }
        
        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: hsla(var(--primary), 0.6);
            box-shadow: 0 0 0 2px hsla(var(--primary), 0.2);
        }
        
        .form-input::placeholder,
        .form-textarea::placeholder {
            color: hsl(var(--muted-foreground));
        }
        
        .form-textarea {
            min-height: 6rem;
        }
        
        .form-grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        /* Photo Upload */
        .photo-upload {
            display: flex;
            flex-wrap: wrap;
            gap: 1.25rem;
            margin: 1rem 0;
        }
        
        .photo-box {
            width: 7rem;
            height: 7rem;
            position: relative;
            background-color: hsla(var(--card), 0.5);
            border: 2px dashed hsla(var(--primary), 0.6);
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.2s ease;
        }
        
        .photo-box:hover {
            border-color: hsla(var(--primary), 1);
            background-color: hsla(var(--card), 0.7);
        }
        
        .photo-box:before {
            content: '+';
            font-size: 2rem;
            color: hsl(var(--muted-foreground));
        }
        
        .photo-box img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .photo-box.filled:before {
            content: '';
        }
        
        /* Music Selection */
        .music-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin: 1rem 0;
        }
        
        .music-item {
            padding: 1rem 1.25rem;
            border-radius: 0.6rem;
            background-color: hsla(var(--card), 0.5);
            border: 1px solid hsla(var(--border), 0.5);
            transition: all 0.2s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.9rem;
        }
        
        .music-item:hover {
            border-color: hsla(var(--primary), 0.5);
            transform: translateY(-2px);
            background-color: hsla(var(--card), 0.7);
        }
        
        .music-item.selected {
            background: linear-gradient(to right, hsla(var(--primary), 0.2), hsla(var(--secondary), 0.2));
            border-color: hsla(var(--primary), 0.7);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .music-indicator {
            width: 1.25rem;
            height: 1.25rem;
            border-radius: 9999px;
            border: 2px solid hsl(var(--muted));
            background-color: transparent;
            transition: all 0.2s ease;
        }
        
        .music-item.selected .music-indicator {
            background-image: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
            border-color: transparent;
        }
        
        /* Preview Styles */
        .preview-card {
            overflow: hidden;
            position: relative;
            border-radius: 1.25rem;
            border: 2px solid hsla(var(--border), 0.8);
            background-color: hsla(var(--card), 0.7);
            box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.2);
        }
        
        .browser-bar {
            background-color: hsla(var(--background), 0.9);
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid hsl(var(--border));
        }
        
        .browser-buttons {
            display: flex;
            gap: 0.4rem;
        }
        
        .browser-button {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
        }
        
        .browser-button-red {
            background-color: hsl(var(--destructive));
        }
        
        .browser-button-yellow {
            background-color: #FFBD2E;
        }
        
        .browser-button-green {
            background-color: #28CA41;
        }
        
        .browser-url {
            flex-grow: 1;
            background-color: hsla(var(--card), 0.7);
            border-radius: 0.25rem;
            padding: 0.25rem 0.75rem;
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-family: monospace;
        }
        
        .preview-content {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.75rem;
        }
        
        .preview-counter {
            width: 100%;
            background-color: hsla(var(--card), 0.5);
            border: 1px solid hsla(var(--primary), 0.3);
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
            font-weight: 500;
            animation: pulse-soft 3s ease-in-out infinite;
        }
        
        .preview-photos {
            width: 16rem;
            height: 22rem;
            position: relative;
            border-radius: 1rem;
            overflow: hidden;
            border: 3px solid hsla(var(--primary), 0.3);
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.2);
        }
        
        .photos-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .photos-container img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 1.5s ease-in-out;
            opacity: 0;
        }
        
        .photos-container img.active {
            opacity: 1;
        }
        
        .preview-message,
        .preview-story {
            width: 100%;
            background-color: hsla(var(--card), 0.5);
            padding: 1.25rem;
            border-radius: 0.6rem;
            border-left: 4px solid hsl(var(--primary));
        }
        
        .preview-story {
            border-left-color: hsl(var(--secondary));
        }
        
        .preview-music {
            color: hsla(var(--primary), 0.9);
            text-align: center;
            word-break: break-all;
            font-size: 0.875rem;
            max-width: 100%;
            padding: 0.5rem;
            background-color: hsla(var(--card), 0.3);
            border-radius: 0.5rem;
        }
        
        /* Submit Button */
        .submit-button {
            display: block;
            width: 100%;
            max-width: 15rem;
            margin: 2.5rem auto 0;
            background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
            color: hsl(var(--primary-foreground));
            border: none;
            border-radius: 9999px;
            padding: 1rem;
            font-size: 1.125rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px -5px hsla(var(--primary), 0.4);
        }
        
        .submit-button:hover {
            opacity: 0.95;
            transform: translateY(-3px);
            box-shadow: 0 12px 25px -5px hsla(var(--primary), 0.5);
        }
        
        /* Photo Gallery */
        .gallery-container {
            margin: 4rem 0;
            padding: 2.5rem;
            border-radius: 1.25rem;
            border: 2px solid hsla(var(--primary), 0.3);
            background: linear-gradient(to right, hsla(var(--primary), 0.1), hsla(var(--secondary), 0.1));
            position: relative;
            overflow: hidden;
        }
        
        .gallery-title {
            font-size: 2.25rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
            font-family: 'Lora', serif;
            background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }
        
        .gallery-track {
            display: flex;
            animation: slide 30s linear infinite;
            padding: 0.75rem 0;
        }
        
        .gallery-item {
            padding: 0.75rem;
            min-width: 300px;
            transition: transform 0.3s ease;
        }
        
        .gallery-item:hover {
            transform: scale(1.02);
        }
        
        .gallery-image {
            width: 100%;
            height: 20rem;
            object-fit: cover;
            border-radius: 1rem;
            border: 2px solid hsla(var(--foreground), 0.1);
            box-shadow: 0 10px 15px -5px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }
        
        .gallery-image:hover {
            transform: scale(1.02);
            box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.2);
        }
        
        /* FAQ Section */
        .faq-container {
            max-width: 48rem;
            margin: 3rem auto;
        }
        
        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid hsla(var(--border), 0.8);
            border-radius: 0.75rem;
            background-color: hsla(var(--card), 0.5);
            overflow: hidden;
            transition: all 0.2s ease;
        }
        
        .faq-item:hover {
            border-color: hsla(var(--primary), 0.5);
            background-color: hsla(var(--card), 0.7);
        }
        
        .faq-trigger {
            width: 100%;
            padding: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: none;
            border: none;
            color: hsl(var(--foreground));
            font-weight: 600;
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: color 0.3s ease;
        }
        
        .faq-trigger:hover {
            color: hsl(var(--primary));
        }
        
        .faq-icon {
            transition: transform 0.3s ease;
        }
        
        .faq-content {
            color: hsl(var(--muted-foreground));
            padding: 0 1.25rem 1.25rem;
            display: none;
            line-height: 1.6;
        }
        
        .faq-content.visible {
            display: block;
        }
        
        /* Footer */
        footer {
            background-color: hsla(var(--card), 0.7);
            margin-top: 3rem;
            padding: 5rem 1rem 3rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .footer-decoration {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
        }
        
        .footer-logo {
            width: 7rem;
            height: 7rem;
            object-fit: contain;
            margin: 0 auto 2rem;
            animation: pulse-soft 3s ease-in-out infinite;
        }
        
        .footer-title {
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 1rem;
            font-family: 'Lora', serif;
            background: linear-gradient(to right, hsl(var(--primary)), hsl(var(--secondary)));
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }
        
        .footer-subtitle {
            color: hsl(var(--muted-foreground));
            margin-bottom: 2.5rem;
            max-width: 36rem;
            margin-left: auto;
            margin-right: auto;
        }
        
        .footer-divider {
            border-top: 1px solid hsla(var(--border), 0.6);
            margin-top: 2.5rem;
            padding-top: 2rem;
        }
        
        .footer-copyright {
            font-weight: 600;
            margin-bottom: 0.75rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.25rem;
            flex-wrap: wrap;
        }
        
        .footer-link {
            color: hsl(var(--muted-foreground));
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .footer-link:hover {
            color: hsl(var(--primary));
            text-decoration: underline;
        }
        
        /* Emoji decorations */
        .emoji-decoration {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.5;
            z-index: 1;
            animation: float 6s ease-in-out infinite;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .features-grid,
            .steps-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .connecting-line {
                display: none;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
                gap: 3rem;
            }
            
            .preview-card {
                max-width: 30rem;
                margin: 0 auto;
            }
            
            .gallery-image {
                height: 16rem;
            }
        }
        
        @media (max-width: 768px) {
            header {
                min-height: 600px;
            }
            
            header h1 {
                font-size: 2.5rem;
            }
            
            .steps-grid {
                grid-template-columns: 1fr;
                max-width: 25rem;
                margin-left: auto;
                margin-right: auto;
            }
            
            .preview-photos {
                width: 14rem;
                height: 20rem;
            }
            
            .container {
                padding: 3rem 1rem;
            }
            
            .section-padding {
                padding-top: 3rem;
                padding-bottom: 3rem;
            }
            
            .gallery-item {
                min-width: 250px;
            }
            
            .gallery-image {
                height: 14rem;
            }
        }
        
        @media (max-width: 640px) {
            .features-grid {
                grid-template-columns: 1fr;
                max-width: 20rem;
                margin-left: auto;
                margin-right: auto;
            }
            
            .form-grid-2 {
                grid-template-columns: 1fr;
            }
            
            .gallery-container {
                padding: 1.5rem;
            }
            
            .gallery-item {
                min-width: 200px;
            }
            
            .gallery-image {
                height: 12rem;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .preview-photos {
                width: 12rem;
                height: 18rem;
            }
            
            .footer-title {
                font-size: 1.5rem;
            }
            
            .footer-links {
                gap: 1rem;
            }
        }
        
        /* Additional microinteractions */
        .submit-button .pulse {
            position: absolute;
            border-radius: 9999px;
            animation: pulse-out 1.5s ease-out infinite;
            background: hsla(var(--primary), 0.7);
        }
        
        @keyframes pulse-out {
            0% {
                transform: scale(0.95);
                opacity: 0.7;
            }
            100% {
                transform: scale(1.8);
                opacity: 0;
            }
        }
    </style>
  </head>
  <body>
    <div id="root">
        <form id="coupleForm" enctype="multipart/form-data">
            <!-- Header Section -->
            <header>
                <div class="header-content">
                    <h1 class="animate-text-shimmer">Surprenez votre amour</h1>
                    <p>Créez un cadeau digital unique avec un compteur de temps, des photos et un message spécial pour votre moitié.</p>
                    <a href="#creation-form" class="btn-cta animate-heartbeat" onclick="scrollToForm()">
                        Commencez Maintenant
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg>
                    </a>
                </div>
                
                <!-- Decorative elements -->
                <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 40px; background: linear-gradient(to top, hsl(var(--background)), transparent);"></div>
                <div style="position: absolute; top: 25%; left: 10%; width: 200px; height: 200px; background: radial-gradient(circle, hsla(var(--primary), 0.3) 0%, transparent 70%); border-radius: 50%; filter: blur(40px);"></div>
                <div style="position: absolute; bottom: 30%; right: 10%; width: 250px; height: 250px; background: radial-gradient(circle, hsla(var(--secondary), 0.3) 0%, transparent 70%); border-radius: 50%; filter: blur(40px);"></div>
                
                <!-- Emoji decorations -->
                <span class="emoji-decoration" style="top: 20%; left: 15%; animation-delay: 0s;">💖</span>
                <span class="emoji-decoration" style="top: 30%; right: 25%; animation-delay: 1s;">✨</span>
                <span class="emoji-decoration" style="bottom: 25%; left: 25%; animation-delay: 2s;">💞</span>
                <span class="emoji-decoration" style="bottom: 40%; right: 15%; animation-delay: 3s;">💘</span>
            </header>
            
            <div class="container section-padding">
                <!-- Feature Highlights -->
                <div class="features-grid">
                    <div class="feature-card love-card glow-effect">
                        <div class="feature-icon">⏱️</div>
                        <h3 class="feature-title">Compteur Dynamique</h3>
                        <p class="feature-desc">Suivez chaque moment précieux de votre relation avec un compteur en temps réel</p>
                    </div>
                    <div class="feature-card love-card glow-effect">
                        <div class="feature-icon">🖼️</div>
                        <h3 class="feature-title">Photos Spéciales</h3>
                        <p class="feature-desc">Ajoutez jusqu'à 3 photos qui représentent vos moments les plus mémorables</p>
                    </div>
                    <div class="feature-card love-card glow-effect">
                        <div class="feature-icon">💌</div>
                        <h3 class="feature-title">Message Personnalisé</h3>
                        <p class="feature-desc">Exprimez vos sentiments avec un message unique et personnel</p>
                    </div>
                    <div class="feature-card love-card glow-effect">
                        <div class="feature-icon">🎶</div>
                        <h3 class="feature-title">Musique d'Ambiance</h3>
                        <p class="feature-desc">Ajoutez votre chanson spéciale pour une expérience immersive</p>
                    </div>
                </div>
                
                <!-- How It Works -->
                <h2 class="gradient-text text-3xl md:text-4xl font-bold my-10 text-center">Comment Ça Marche ? ✨</h2>
                
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-inner">
                            <div class="step-number">1</div>
                            <h3 class="step-title">Remplissez les détails de votre histoire</h3>
                            <p class="step-desc">Ajoutez vos photos préférées, une date spéciale et un message personnalisé pour rendre ce cadeau unique.</p>
                        </div>
                        <div class="connecting-line"></div>
                    </div>
                    <div class="step-card">
                        <div class="step-inner">
                            <div class="step-number">2</div>
                            <h3 class="step-title">Payez pour votre site personnalisé</h3>
                            <p class="step-desc">Après votre paiement, recevez un QR code et votre site personnalisé avec trois photos et une musique, valable un an.</p>
                        </div>
                        <div class="connecting-line"></div>
                    </div>
                    <div class="step-card">
                        <div class="step-inner">
                            <div class="step-number">3</div>
                            <h3 class="step-title">Site personnalisé + QR Code</h3>
                            <p class="step-desc">Votre site unique est généré en moins d'une minute, prêt à être partagé avec un QR code exclusif.</p>
                        </div>
                        <div class="connecting-line"></div>
                    </div>
                    <div class="step-card">
                        <div class="step-inner">
                            <div class="step-number">4</div>
                            <h3 class="step-title">Surprenez vos proches</h3>
                            <p class="step-desc">Partagez ce cadeau digital et laissez les émotions parler d'elles-mêmes. Un souvenir qui touche le cœur.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Creation Form -->
                <h2 id="creation-form" class="gradient-text text-3xl md:text-4xl font-bold my-10 text-center">Personnalisez Votre Site 🎉</h2>
                
                <div class="form-grid">
                    <!-- Form Side -->
                    <div class="form-container">
                        <div class="form-group">
                            <label for="nomCouple" class="form-label">Nom du couple ou personne spécial</label>
                            <input 
                                type="text"
                                id="nomCouple"
                                name="name"
                                placeholder="Nom du couple ou personne spécial"
                                class="form-input"
                                required
                            />
                        </div>
                        
                        <div class="form-grid-2">
                            <div class="form-group">
                                <label for="dateRelation" class="form-label">Date 📅</label>
                                <input 
                                    type="date"
                                    id="dateRelation"
                                    name="date"
                                    class="form-input"
                                    required
                                />
                            </div>
                            
                            <div class="form-group">
                                <label for="timeRelation" class="form-label">Heure ⏰</label>
                                <input 
                                    type="time"
                                    id="timeRelation"
                                    name="time"
                                    class="form-input"
                                    required
                                />
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="message" class="form-label">Message spécial 💌</label>
                            <textarea 
                                id="message"
                                name="message"
                                placeholder="Écrivez un message spécial pour cette personne..."
                                class="form-textarea"
                                rows="4"
                                required
                            ></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="meetingStory" class="form-label">Anecdote ou souvenir spécial 📖</label>
                            <textarea 
                                id="meetingStory"
                                name="meetingStory"
                                placeholder="Racontez une anecdote ou un souvenir spécial"
                                class="form-textarea"
                                rows="2"
                                required
                            ></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">Votre e-mail 📧</label>
                            <input 
                                type="email"
                                id="email"
                                name="email"
                                placeholder="Votre e-mail"
                                class="form-input"
                                required
                            />
                        </div>
                        
                        <div class="form-group">
                            <label for="photos" class="form-label">Ajoutez 3 Photos Mémorables 📸</label>
                            <p style="color: hsl(var(--muted-foreground)); font-size: 0.875rem; margin-bottom: 0.75rem;">
                                Sélectionnez jusqu'à 3 photos qui capturent des moments précieux
                            </p>
                            
                            <div class="photo-upload" id="photoUpload"></div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Choisissez une Musique 🎵</label>
                            <p style="color: hsl(var(--muted-foreground)); font-size: 0.875rem; margin-bottom: 0.75rem;">
                                Ajoutez une touche émotionnelle avec une chanson qui représente votre lien
                            </p>
                            
                            <div class="music-list">
                                <div class="music-item" onclick="selectMusic(this, 'https://youtu.be/tu27kSOEGE4')">
                                    <div class="music-indicator"></div>
                                    <span>A Thousand Years - Teddy Swims</span>
                                </div>
                                <div class="music-item" onclick="selectMusic(this, 'https://youtu.be/khdH-heeojU')">
                                    <div class="music-indicator"></div>
                                    <span>Teddy Swims - Let Me Love You</span>
                                </div>
                                <div class="music-item" onclick="selectMusic(this, 'https://youtu.be/1el2U3f7Y18')">
                                    <div class="music-indicator"></div>
                                    <span>Teddy Swims - Devil in a Dress</span>
                                </div>
                                <div class="music-item" onclick="selectMusic(this, 'https://www.youtube.com/watch?v=MrTz5xjmso4')">
                                    <div class="music-indicator"></div>
                                    <span>Sean Kingston - Beautiful Girls</span>
                                </div>
                            </div>
                            
                            <div style="margin-top: 1.25rem;">
                                <label for="youtubeLink" class="form-label">Ou insérez un lien YouTube personnalisé 🎧</label>
                                <input 
                                    type="text"
                                    id="youtubeLink"
                                    name="music"
                                    placeholder="https://youtube.com/watch?v=..."
                                    class="form-input"
                                />
                            </div>
                        </div>
                        
                        <button type="button" class="submit-button animate-heartbeat" onclick="checkout()">
                            Créer mon site € 15,00
                        </button>
                    </div>
                    
                    <!-- Preview Side -->
                    <div>
                        <div class="preview-card">
                            <div class="browser-bar">
                                <div class="browser-buttons">
                                    <div class="browser-button browser-button-red"></div>
                                    <div class="browser-button browser-button-yellow"></div>
                                    <div class="browser-button browser-button-green"></div>
                                </div>
                                <div class="browser-url" id="previewUrl">https://lovetoo.ch/</div>
                            </div>
                            
                            <div class="preview-content">
                                <h2 id="previewTitle" class="gradient-text text-2xl md:text-3xl font-bold font-serif">Aperçu de Votre Cadeau Digital</h2>
                                
                                <!-- Emoji decorations -->
                                <span class="emoji-float" style="top: 10%; left: 20%; animation-delay: 0s;">❤️</span>
                                <span class="emoji-float" style="top: 30%; right: 20%; animation-delay: 0.5s;">✨</span>
                                <span class="emoji-float" style="top: 50%; left: 15%; animation-delay: 1s;">💞</span>
                                <span class="emoji-float" style="top: 70%; right: 25%; animation-delay: 1.5s;">💫</span>
                                <span class="emoji-float" style="top: 85%; left: 30%; animation-delay: 2s;">💖</span>
                                <span class="emoji-float" style="top: 25%; right: 10%; animation-delay: 2.5s;">🌟</span>
                                
                                <div class="preview-counter" id="dateCounter">Ensemble depuis : 0 jours, 0 heures, 0 minutes 🎉</div>
                                
                                <div class="preview-photos" id="previewPhotos">
                                    <div class="photos-container"></div>
                                </div>
                                
                                <div class="preview-message" id="previewMessage"></div>
                                <div class="preview-story" id="previewMeeting"></div>
                                <div class="preview-music" id="previewMusique"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Photo Gallery -->
                <div class="gallery-container">
                    <h2 class="gallery-title">Des idées devenues virales 💕</h2>
                    
                    <!-- Emoji decorations -->
                    <span class="emoji-float" style="top: 15%; left: 10%; animation-delay: 0s;">💖</span>
                    <span class="emoji-float" style="top: 25%; right: 15%; animation-delay: 0.7s;">✨</span>
                    <span class="emoji-float" style="top: 70%; left: 20%; animation-delay: 1.4s;">💝</span>
                    <span class="emoji-float" style="top: 40%; right: 25%; animation-delay: 2.1s;">🌟</span>
                    <span class="emoji-float" style="top: 80%; right: 10%; animation-delay: 2.8s;">💘</span>
                    
                    <div class="overflow-hidden relative">
                        <div class="gallery-track">
                            <div class="gallery-item">
                                <img src="/static/lh.jpeg" alt="Exemple 1" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/li.jpeg" alt="Exemple 2" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/pe.jpeg" alt="Exemple 3" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/re.jpeg" alt="Exemple 4" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/ss.jpeg" alt="Exemple 5" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/fe.jpeg" alt="Exemple 6" class="gallery-image"/>
                            </div>
                            <!-- Duplicate for continuous loop -->
                            <div class="gallery-item">
                                <img src="/static/lh.jpeg" alt="Exemple 1" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/li.jpeg" alt="Exemple 2" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/pe.jpeg" alt="Exemple 3" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/re.jpeg" alt="Exemple 4" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/ss.jpeg" alt="Exemple 5" class="gallery-image"/>
                            </div>
                            <div class="gallery-item">
                                <img src="/static/fe.jpeg" alt="Exemple 6" class="gallery-image"/>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- FAQ Section -->
                <h2 class="gradient-text text-3xl md:text-4xl font-bold my-10 text-center">Questions Fréquentes 💬</h2>
                
                <div class="faq-container">
                    <div class="faq-item">
                        <button class="faq-trigger" onclick="toggleAnswer(this)">
                            <span>Qu'est-ce que Lovetoo ?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-content">
                            <p>Lovetoo est une plateforme dédiée aux couples et à toutes les personnes qui souhaitent offrir un cadeau original et plein d'émotion. Créez une page personnalisée avec des photos, un message spécial et un compteur de jours ensemble. Recevez un QR code unique à partager ou imprimer, pour surprendre votre moitié d'une manière douce, moderne et inoubliable. 💖 Un souvenir digital qui touche le cœur.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-trigger" onclick="toggleAnswer(this)">
                            <span>Quels sont les moyens de paiement acceptés ?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-content">
                            <p>Nous acceptons tous les paiements.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-trigger" onclick="toggleAnswer(this)">
                            <span>Combien de temps cela prend-il?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-content">
                            <p>Une fois le paiement confirmé, vous recevrez votre page personnalisée en moins d'une minute.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-trigger" onclick="toggleAnswer(this)">
                            <span>Qui peut voir ma page?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-content">
                            <p>Votre page possède un lien unique personnalisé avec le nom du couple. Seuls vous et les personnes avec qui vous partagez ce lien peuvent y accéder.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-trigger" onclick="toggleAnswer(this)">
                            <span>La page a-t-elle une validité?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-content">
                            <p>Oui, votre page est valable pour 1 an.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-trigger" onclick="toggleAnswer(this)">
                            <span>Entrer en contact?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-content">
                            <p>Avez-vous des questions concernant notre plateforme? contactez-nous par e-mail -> contact@lovetoo.ch</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-trigger" onclick="toggleAnswer(this)">
                            <span>Quels sont les réseaux sociaux officiels Lovetoo?</span>
                            <span class="faq-icon">+</span>
                        </button>
                        <div class="faq-content">
                            <p>Suivez nos réseaux sociaux -> TikTok & Instagram -> Lovetoo.ch</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container" style="padding-top: 0;">
                <div style="display: flex; align-items: center; background: hsla(var(--card), 0.5); padding: 1.5rem; border-radius: 1rem; border: 1px solid hsla(var(--border), 0.8);">
                    <img src="/static/lovetooqrcode.png" alt="Logo Lovetoo" style="max-width: 120px; height: auto; margin-right: 20px;" />
                    <h2 style="margin: 0; font-family: 'Lora', serif; font-weight: 700; font-size: 1.5em; background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--secondary))); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        Et si on préparait un cadeau surprise pour l'un de vos proches? Ça prend moins de 5 minutes. Sérieusement! ✨
                    </h2>
                </div>
            </div>
            
            <div style="text-align: center; margin: 50px 0 30px;">
                <img src="/static/lovetoo2.png" alt="Logo Lovetoo" class="animate-pulse-soft" style="max-width: 140px; width: 100%; height: auto;" />
            </div>
            
            <footer>
                <div class="footer-decoration"></div>
                <div class="container">
                    <img 
                        src="/static/lovetoo2.png" 
                        alt="Logo Lovetoo" 
                        class="footer-logo"
                    />
                    
                    <h3 class="footer-title">
                        Et si on préparait un cadeau surprise pour l'un de vos proches? 💕
                    </h3>
                    <p class="footer-subtitle">
                        Ça prend moins de 5 minutes. Sérieusement!
                    </p>
                    
                    <div class="footer-divider">
                        <p class="footer-copyright">Copyright © 2025 <span class="gradient-text">Lovetoo 🇨🇭</span></p>
                        <div class="footer-links">
                            <a href="/politique" class="footer-link">Loi GDPR et Politique</a>
                            <a href="https://www.instagram.com/lovetoo.ch" class="footer-link" target="_blank" rel="noopener noreferrer">
                                Lovetoo Instagram
                            </a>
                        </div>
                    </div>
                    
                    <!-- Emoji decorations -->
                    <span class="emoji-decoration" style="top: 20%; left: 10%; animation-delay: 0s;">💖</span>
                    <span class="emoji-decoration" style="top: 40%; right: 15%; animation-delay: 1.2s;">✨</span>
                    <span class="emoji-decoration" style="bottom: 30%; left: 20%; animation-delay: 2.4s;">💝</span>
                </div>
            </footer>
        </form>
    </div>
    
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    
    <script>
        const stripe = Stripe('pk_live_51OPYP0BaeF4jTqjuQJyBrRhG9VMGNzg6lZ1K298S5bu9ww7D7JKpk2EbJ2oJnUPUB3eHawSLqcOS1OcbYUcEHx9U00tJlFoUVY');
        let startDate = null;
        let selectedMusic = '';

        function updatePhotoFields() {
            const photoUpload = document.getElementById('photoUpload');
            photoUpload.innerHTML = '';
            for (let i = 0; i < 3; i++) {
                const div = document.createElement('div');
                div.classList.add('photo-box');
                div.innerHTML = `<input type="file" accept="image/*" name="photo${i}" style="display: none;">`;
                div.onclick = () => div.querySelector('input').click();
                div.querySelector('input').onchange = (e) => {
                    if (e.target.files[0]) {
                        div.classList.add('filled');
                        const existingImg = div.querySelector('img');
                        if (existingImg) existingImg.remove();
                        const img = document.createElement('img');
                        img.src = URL.createObjectURL(e.target.files[0]);
                        div.appendChild(img);
                        updatePreview();
                    }
                };
                photoUpload.appendChild(div);
            }
        }

        function selectMusic(element, musicLink) {
            selectedMusic = musicLink;
            document.getElementById('youtubeLink').value = musicLink;
            document.querySelectorAll('.music-item').forEach(li => li.classList.remove('selected'));
            element.classList.add('selected');
            updatePreview();
        }

        function startCounter() {
            const dateInput = document.getElementById('dateRelation').value;
            const timeInput = document.getElementById('timeRelation').value;
            if (dateInput && timeInput) {
                startDate = new Date(`${dateInput}T${timeInput}`);
                updateCounter();
            }
        }

        function updateCounter() {
            if (!startDate) return;
            const now = new Date();
            const diffMs = now - startDate;
            const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
            const diffHours = Math.floor((diffMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById('dateCounter').innerText = `Ensemble depuis : ${diffDays} jours, ${diffHours} heures, ${diffMinutes} minutes 🎉`;
            setTimeout(updateCounter, 60000);
        }

        function cycleStories() {
            const storiesContainer = document.querySelector('.photos-container');
            const images = storiesContainer.querySelectorAll('img');
            if (images.length === 0) return;

            let currentIndex = 0;
            images[currentIndex].classList.add('active');

            setInterval(() => {
                images[currentIndex].classList.remove('active');
                currentIndex = (currentIndex + 1) % images.length;
                images[currentIndex].classList.add('active');
            }, 5000);
        }

        function updatePreview() {
            const previewTitle = document.getElementById('previewTitle');
            const nomCouple = document.getElementById('nomCouple').value;
            if (nomCouple && checkAllFieldsFilled()) {
                previewTitle.classList.add('hidden');
                let coupleNameTitle = document.getElementById('coupleNameTitle');
                if (!coupleNameTitle) {
                    coupleNameTitle = document.createElement('h2');
                    coupleNameTitle.id = 'coupleNameTitle';
                    coupleNameTitle.classList.add('gradient-text', 'text-2xl', 'md:text-3xl', 'font-bold', 'font-serif');
                    previewTitle.parentNode.insertBefore(coupleNameTitle, previewTitle.nextSibling);
                }
                coupleNameTitle.innerText = nomCouple;
                document.getElementById('previewUrl').innerText = `https://lovetoo.ch/${nomCouple.toLowerCase().replace(/\s+/g, '')}`;
            } else {
                previewTitle.classList.remove('hidden');
                const coupleNameTitle = document.getElementById('coupleNameTitle');
                if (coupleNameTitle) coupleNameTitle.remove();
                document.getElementById('previewUrl').innerText = 'https://lovetoo.ch/';
            }

            const storiesContainer = document.querySelector('.photos-container');
            storiesContainer.innerHTML = '';
            const photoImages = document.querySelectorAll('.photo-box img');
            photoImages.forEach((img, index) => {
                if (index < 3) {
                    const newImg = document.createElement('img');
                    newImg.src = img.src;
                    if (index === 0) newImg.classList.add('active');
                    storiesContainer.appendChild(newImg);
                }
            });

            document.getElementById('previewMessage').innerText = document.getElementById('message').value || 'Écrivez un message spécial...';
            document.getElementById('previewMeeting').innerText = document.getElementById('meetingStory').value || 'Racontez une anecdote ou un souvenir spécial';
            const youtubeLink = document.getElementById('youtubeLink').value || selectedMusic;
            document.getElementById('previewMusique').innerText = youtubeLink ? `${youtubeLink}` : '';

            cycleStories();
        }

        function checkAllFieldsFilled() {
            const nomCouple = document.getElementById('nomCouple').value;
            const dateRelation = document.getElementById('dateRelation').value;
            const timeRelation = document.getElementById('timeRelation').value;
            const message = document.getElementById('message').value;
            const meetingStory = document.getElementById('meetingStory').value;
            const email = document.getElementById('email').value;
            return nomCouple && dateRelation && timeRelation && message && meetingStory && email;
        }

        async function compressImage(file) {
            return new Promise((resolve) => {
                const img = new Image();
                const reader = new FileReader();
                reader.onload = (e) => {
                    img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        const maxWidth = 800;
                        const maxHeight = 800;
                        let width = img.width;
                        let height = img.height;

                        if (width > height) {
                            if (width > maxWidth) {
                                height *= maxWidth / width;
                                width = maxWidth;
                            }
                        } else {
                            if (height > maxHeight) {
                                width *= maxHeight / height;
                                height = maxHeight;
                            }
                        }

                        canvas.width = width;
                        canvas.height = height;
                        ctx.drawImage(img, 0, 0, width, height);

                        canvas.toBlob((blob) => {
                            resolve(new File([blob], file.name, { type: 'image/jpeg', lastModified: Date.now() }));
                        }, 'image/jpeg', 0.7);
                    };
                };
                reader.readAsDataURL(file);
            });
        }

        async function checkout() {
            if (!checkAllFieldsFilled()) {
                alert('Veuillez remplir tous les champs avant de procéder au paiement.');
                return;
            }

            const formData = new FormData();
            formData.append('name', document.getElementById('nomCouple').value);
            formData.append('date', document.getElementById('dateRelation').value);
            formData.append('time', document.getElementById('timeRelation').value);
            formData.append('message', document.getElementById('message').value);
            formData.append('meetingStory', document.getElementById('meetingStory').value);
            formData.append('email', document.getElementById('email').value);
            const musicLink = document.getElementById('youtubeLink').value || selectedMusic;
            console.log('Link do YouTube enviado:', musicLink);
            formData.append('music', musicLink);

            const photoInputs = document.querySelectorAll('.photo-box input[type="file"]');
            for (let i = 0; i < photoInputs.length; i++) {
                if (photoInputs[i].files[0]) {
                    const compressedPhoto = await compressImage(photoInputs[i].files[0]);
                    formData.append(`photo${i}`, compressedPhoto);
                }
            }

            try {
                const response = await fetch('https://lovetoo.ch/create-checkout-session', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();
                if (data.error) {
                    alert('Erreur lors du paiement : ' + data.error);
                } else {
                    localStorage.setItem('formData', JSON.stringify(Object.fromEntries(formData)));
                    stripe.redirectToCheckout({ sessionId: data.sessionId });
                }
            } catch (error) {
                console.error('Erreur:', error);
                alert('Erreur lors du paiement. Veuillez réessayer.');
            }
        }

        function scrollToForm() {
            document.getElementById('creation-form').scrollIntoView({ behavior: 'smooth' });
        }

        function toggleAnswer(element) {
            const content = element.nextElementSibling;
            content.classList.toggle('visible');
            const icon = element.querySelector('.faq-icon');
            icon.textContent = content.classList.contains('visible') ? '-' : '+';
        }

        // Add emoji floating effect
        function addFloatingEmojis() {
            const emojis = ['❤️', '💖', '✨', '💫', '💕', '💞', '🌟', '💘'];
            const preview = document.querySelector('.preview-content');
            
            setInterval(() => {
                const emoji = document.createElement('span');
                emoji.classList.add('emoji-float');
                emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.left = `${Math.random() * 90}%`;
                emoji.style.top = `${Math.random() * 70 + 15}%`;
                emoji.style.animationDelay = `${Math.random()}s`;
                emoji.style.animationDuration = `${4 + Math.random() * 3}s`;
                preview.appendChild(emoji);
                setTimeout(() => emoji.remove(), 7000);
            }, 3000);
        }

        document.getElementById('nomCouple').addEventListener('input', updatePreview);
        document.getElementById('dateRelation').addEventListener('change', () => { startCounter(); updatePreview(); });
        document.getElementById('timeRelation').addEventListener('change', () => { startCounter(); updatePreview(); });
        document.getElementById('message').addEventListener('input', updatePreview);
        document.getElementById('meetingStory').addEventListener('input', updatePreview);
        document.getElementById('email').addEventListener('input', updatePreview);
        document.getElementById('youtubeLink').addEventListener('input', updatePreview);

        // Initialize everything on page load
        window.addEventListener('DOMContentLoaded', () => {
            updatePhotoFields();
            startCounter();
            addFloatingEmojis();
        });
    </script>
  </body>
</html>
